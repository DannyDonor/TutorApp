{% extends "base.html" %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2>üë§ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞</h2>
        <p>–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ —Å–∏—Å—Ç–µ–º–µ</p>
    </div>
    
    <form method="post" class="auth-form">
        <div class="form-group">
            <label for="full_name">üë§ –§–ò–û —Å—Ç—É–¥–µ–Ω—Ç–∞</label>
            <input type="text" id="full_name" name="full_name" required 
                   placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–æ–ª–Ω–æ–µ –∏–º—è —Å—Ç—É–¥–µ–Ω—Ç–∞">
        </div>
        
        <div class="form-group">
            <label for="lessons_count">üìö –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–Ω—è—Ç–∏–π</label>
            <input type="number" id="lessons_count" name="lessons_count" 
                   value="0" min="0" required 
                   placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–ª–∞—á–µ–Ω–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π">
        </div>
        
        <div class="form-group">
            <label for="telegram_chat_id">üí¨ Telegram Chat ID</label>
            <input type="text" id="telegram_chat_id" name="telegram_chat_id"
                   placeholder="123456789">
            <small class="form-text">
                –ß–∏—Å–ª–æ–≤–æ–π Chat ID –∏–∑ Telegram (–Ω–µ @username). 
                –ü–æ–ª—É—á–∏—Ç—å –º–æ–∂–Ω–æ —É <a href="https://t.me/userinfobot" target="_blank">@userinfobot</a>
            </small>
        </div>
        
        <div class="form-group">
            <label class="checkbox-label">
                <input type="checkbox" id="create_account" name="create_account" onchange="toggleAccountFields()">
                <span class="checkmark"></span>
                üîê –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–∞
            </label>
        </div>
      
          <div id="account-fields" style="display: none;">
            <hr>
            <div class="section-header">
                <h3>üîê –î–∞–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç–∞</h3>
            </div>
            
            <div class="form-group">
                <label for="username">üë§ –õ–æ–≥–∏–Ω</label>
                <input type="text" id="username" name="username" 
                       placeholder="–õ–æ–≥–∏–Ω –¥–ª—è –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É">
            </div>
            
            <div class="form-group">
                <label for="email">üìß Email</label>
                <input type="email" id="email" name="email" 
                       placeholder="email@example.com">
            </div>
            
            <div class="form-group">
                <label for="password">üîí –ü–∞—Ä–æ–ª—å</label>
                <input type="text" id="password" name="password" value="student123"
                       placeholder="–ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞">
                <small class="form-text">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: student123</small>
            </div>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞</button>
            <a href="{{ url_for('all_students') }}" class="btn btn-secondary">‚ùå –û—Ç–º–µ–Ω–∞</a>
        </div>
    </form>
</div>

<script>
function toggleAccountFields() {
    const checkbox = document.getElementById('create_account');
    const fields = document.getElementById('account-fields');
    const usernameField = document.getElementById('username');
    const emailField = document.getElementById('email');
    
    if (checkbox.checked) {
        fields.style.display = 'block';
        usernameField.required = true;
        emailField.required = true;
    } else {
        fields.style.display = 'none';
        usernameField.required = false;
        emailField.required = false;
    }
}
</script>
{% endblock %}